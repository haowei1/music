webpackJsonp([2],{"1LvC":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},s,!1,function(t){n("1LvC")},null,null).exports,r=n("/ocq"),o={name:"search",data:function(){return{songName:"",songList:[],resultStr:""}},methods:{search:function(){var t=this;this.$axios.post("/music/search",{songName:this.songName}).then(function(e){t.songList=e.data.data.song}).catch(function(t){console.log(t)})}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search"}},[n("div",[n("el-row",[n("el-col",{attrs:{span:20}},[n("div",{staticClass:"grid-content bg-purple"},[n("el-input",{attrs:{id:"inp_name",placeholder:"请输入歌名",size:"small"},model:{value:t.songName,callback:function(e){t.songName=e},expression:"songName"}})],1)]),t._v(" "),n("el-col",{attrs:{span:4}},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-button",{attrs:{id:"btn_search",type:"primary",icon:"el-icon-search",size:"small"},on:{click:t.search}})],1)])],1)],1),t._v(" "),n("div",[n("ul",{staticClass:"list searchlist"},t._l(t.songList.list,function(e,i){return n("router-link",{key:i,staticClass:"song",attrs:{tag:"li",to:{name:"Player",params:{item:e}}}},[n("div",{staticClass:"left"},[n("div",{staticClass:"info  single-line "},[n("div",[n("span",{attrs:{id:"song_name"}},[t._v(t._s(e.songname))])]),t._v(" "),n("span",{staticClass:"txt"},[t._v(" "+t._s(e.albumname)+"   ")]),t._l(e.singer,function(e,i){return n("span",{staticClass:"txt"},[t._v(" "+t._s(e.name)+" ")])})],2)])])}),1)])])},staticRenderFns:[]};var l=n("VU/8")(o,c,!1,function(t){n("gawl")},"data-v-34d56207",null).exports,u={name:"Index",components:{Search:l},comments:{Home:f}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Search")],1)},staticRenderFns:[]};var d=n("VU/8")(u,m,!1,function(t){n("O0yZ")},"data-v-6ac54238",null).exports,p={name:"home",comments:{Index:d}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Index")],1)},staticRenderFns:[]};var f=n("VU/8")(p,h,!1,function(t){n("rgDR")},"data-v-49f82019",null).exports,v={name:"player",data:function(){return{songInfo:[],playUrl:"",imgUrl:"",songMid:"",albumMid:"",singer:[],lrc:"",currentTime:0,durationTime:0}},components:{LRC:i.default.component("lrc",function(t){return n.e(0).then(function(){var e=[n("WTvi")];t.apply(null,e)}.bind(this)).catch(n.oe)})},mounted:function(){var t=this;this.singer=this.singer=this.$route.params.item.singer,this.songMid=this.$route.params.item.songmid,this.albumMid=this.$route.params.item.albummid,this.imgUrl="https://y.gtimg.cn/music/photo_new/T002R300x300M000"+this.albumMid+".jpg";this.$axios.post("/music/info",{songMid:this.songMid}).then(function(e){t.songInfo=e.data.data.items,""==t.songInfo[0].vkey&&t.open(),t.playUrl="http://ws.stream.qqmusic.qq.com/"+t.songInfo[0].filename+"?fromtag=0&loginUin=2012313298&guid=126548448&vkey="+t.songInfo[0].vkey}).catch(function(t){console.log(t)}),this.addEventListeners()},methods:{addEventListeners:function(){this.$refs.player.addEventListener("timeupdate",this._currentTime),this.$refs.player.addEventListener("canplay",this._durationTime)},removeEventListeners:function(){this.$refs.player.removeEventListener("timeupdate",this._currentTime),this.$refs.player.removeEventListener("canplay",this._durationTime)},_currentTime:function(){this.currentTime=this.$refs.player.currentTime},_durationTime:function(){this.durationTime=this.$refs.player.duration},open:function(){var t=this;this.$alert("暂时不能播放此歌曲","Sorry o(╥﹏╥)o",{confirmButtonText:"确定",callback:function(e){t.$router.go(-1)}})}},beforeDestroyed:function(){this.removeEventListeners()},destroyed:function(){this.$message.close()}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"player"}},[n("div",[n("router-link",{staticClass:"el-icon-arrow-left",attrs:{to:{name:"Home"},id:"back"}}),t._v(" "),n("h2",{attrs:{id:"name"}},[t._v(t._s(this.$route.params.item.songname))]),t._v(" "),n("div",{attrs:{id:"singer"}},t._l(t.singer,function(e,i){return n("span",[t._v(t._s(e.name)+"  ")])}),0)],1),t._v(" "),n("div",{attrs:{id:"img"}},[n("img",{attrs:{src:t.imgUrl,onerror:"this.src='https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1569563447275&di=358fe70e3b2fefd11f239c7d7977d1e1&imgtype=0&src=http%3A%2F%2Fwww.banbaowang.com%2Fuploads%2Fallimg%2F190128%2F32-1Z12QGQ5.jpg';this.onerror=null"}})]),t._v(" "),n("div",{attrs:{id:"lrc"}},[n("LRC",{attrs:{musicId:this.$route.params.item.songid,durationTime:t.durationTime,currentTime:t.currentTime}})],1),t._v(" "),n("div",{attrs:{id:"audio"}},[n("audio",{ref:"player",attrs:{src:t.playUrl,controls:"",autoplay:""}})])])},staticRenderFns:[]};var _=n("VU/8")(v,g,!1,function(t){n("cSYW")},"data-v-4db9df21",null).exports;i.default.use(r.a);var y=new r.a({routes:[{path:"/",name:"Index",component:d,redirect:"/home",children:[{path:"/home",name:"Home",component:f,children:[{path:"search",name:"Search",component:l}]}]},{path:"/player",name:"Player",component:_}]}),b=n("zL8q"),$=n.n(b);n("tvR6");i.default.use($.a);var T=n("mtWM");T.defaults.baseURL="http://39.105.172.154:1127",i.default.prototype.$axios=T,i.default.prototype.host="/music",i.default.config.productionTip=!1,new i.default({el:"#app",router:y,components:{App:a},template:"<App/>"})},O0yZ:function(t,e){},cSYW:function(t,e){},gawl:function(t,e){},rgDR:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9ee9577f13352a3e862f.js.map